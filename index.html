<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…·èº«ç‰©ç†å¯¦é©—å®¤ï¼šç‰›é “ç¬¬ä¸‰å®šå¾‹ (Matter.jsç‰ˆ)</title>
    <!-- å¼•å…¥ Matter.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #e74c3c;
            --success-color: #2ecc71;
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --text-color: #2c3e50;
        }

        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1, h2, h3 {
            text-align: center;
            color: var(--text-color);
        }

        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        /* å…·èº«å¼•å°å€å¡Š */
        .embodied-guide {
            background: #e8f6f3;
            border-left: 5px solid #1abc9c;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .embodied-icon {
            font-size: 1.4em;
            vertical-align: middle;
            margin-right: 8px;
        }

        /* å¯¦é©—å®¤å€å¡Š */
        #canvas-container {
            position: relative;
            width: 100%;
            height: 300px;
            background: #2c3e50;
            border-radius: 8px;
            overflow: hidden;
            border: 3px solid #34495e;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
        }

        .control-panel {
            text-align: center;
            margin-top: 15px;
            padding: 10px;
            background: #ecf0f1;
            border-radius: 8px;
        }

        .btn {
            padding: 10px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: transform 0.1s, box-shadow 0.1s;
        }

        .btn-start {
            background-color: var(--success-color);
            color: white;
            box-shadow: 0 4px 0 #27ae60;
        }

        .btn-start:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        .btn-reset {
            background-color: var(--secondary-color);
            color: white;
            box-shadow: 0 4px 0 #c0392b;
            margin-left: 10px;
        }
        
        .btn-reset:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        /* å¯¦é©—æ•¸æ“šé¡¯ç¤ºæ¿ */
        #data-display {
            display: none; /* å¯¦é©—å¾Œé¡¯ç¤º */
            margin-top: 15px;
            background: #fff;
            border: 2px solid var(--text-color);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .data-row {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 10px 0;
            font-size: 1.2rem;
        }

        .force-val-a { color: #3498db; font-weight: bold; }
        .force-val-b { color: #e74c3c; font-weight: bold; }

        /* ç·´ç¿’é¡Œæ¨£å¼ */
        .quiz-option {
            display: block;
            padding: 12px;
            margin: 8px 0;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quiz-option:hover { border-color: var(--primary-color); }
        .quiz-option.selected { background-color: #d6eaf8; border-color: var(--primary-color); }
        .quiz-option.correct { background-color: #d4edda; border-color: #28a745; }
        .quiz-option.wrong { background-color: #f8d7da; border-color: #dc3545; }

        .hint-box {
            display: none;
            background: #fff3cd;
            color: #856404;
            padding: 10px;
            border-radius: 5px;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        .result-section {
            display: none;
            text-align: center;
            background: #2c3e50;
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-top: 30px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ›¡ï¸ ç‰›é “ç¬¬ä¸‰å®šå¾‹ï¼šç¢°æ’å¯¦é©—å®¤</h1>
    
    <!-- æ¨¡å¡Šä¸€ï¼šå…·èº«æ„ŸçŸ¥ -->
    <div class="card">
        <h2>ğŸ–ï¸ ç¬¬ä¸€éšæ®µï¼šèº«é«”æ„ŸçŸ¥èˆ‡çŒœæƒ³</h2>
        <div class="embodied-guide">
            <span class="embodied-icon">ğŸ‘</span> <strong>å‹•ä½œæŒ‡ä»¤ï¼š</strong>
            <p>è«‹èˆ‰èµ·é›™æ‰‹ï¼Œç”¨åŠ›æ‹æ“Šä¸€æ¬¡ï¼ (å•ªï¼)</p>
            <p>å•å•ä½ çš„æ‰‹æŒï¼š</p>
            <ul>
                <li>æ˜¯å·¦æ‰‹ç—›é‚„æ˜¯å³æ‰‹ç—›ï¼Ÿ(æ‡‰è©²éƒ½ç—›)</li>
                <li>é€™ä»£è¡¨äº†ä»€éº¼ï¼Ÿ(åŠ›æ˜¯æˆå°å‡ºç¾çš„)</li>
            </ul>
        </div>
        <p>ç¾åœ¨ï¼Œæˆ‘å€‘å°‡é€™å€‹æ„Ÿè¦ºè½‰åŒ–ç‚ºä¸€å€‹å¯è¦‹çš„ç‰©ç†å¯¦é©—ã€‚</p>
    </div>

    <!-- æ¨¡å¡ŠäºŒï¼šç‰©ç†å¯¦é©— (Matter.js) -->
    <div class="card">
        <h2>ğŸ’¥ ç¬¬äºŒéšæ®µï¼šè™›æ“¬ç¢°æ’å¯¦é©— (Matter.js)</h2>
        <p>ä¸‹æ–¹æœ‰è—çƒ (A) å’Œ ç´…çƒ (B)ã€‚é»æ“Šã€Œé–‹å§‹ç¢°æ’ã€ï¼Œè§€å¯Ÿå®ƒå€‘æ’æ“Šç¬é–“çš„æ•¸å€¼ã€‚</p>
        
        <div id="canvas-container"></div>
        
        <div class="control-panel">
            <button class="btn btn-start" onclick="startExperiment()">ğŸš€ é–‹å§‹ç¢°æ’å¯¦é©—</button>
            <button class="btn btn-reset" onclick="resetExperiment()">ğŸ”„ é‡ç½®å ´æ™¯</button>
        </div>

        <!-- å¯¦é©—çµæœå±•ç¤ºå€ -->
        <div id="data-display">
            <h3>ğŸ“Š å¯¦é©—æ•¸æ“šå ±å‘Š</h3>
            <div class="data-row">
                <div>
                    <div>ğŸ”µ è—çƒå—åŠ› (F<sub>BA</sub>)</div>
                    <div class="force-val-a" id="force-a-display">-- N</div>
                    <div style="font-size:0.8em; color:gray;">æ–¹å‘ï¼šå‘å·¦ â¬…ï¸</div>
                </div>
                <div style="font-size: 2em;">ğŸ†š</div>
                <div>
                    <div>ğŸ”´ ç´…çƒå—åŠ› (F<sub>AB</sub>)</div>
                    <div class="force-val-b" id="force-b-display">-- N</div>
                    <div style="font-size:0.8em; color:gray;">æ–¹å‘ï¼šå‘å³ â¡ï¸</div>
                </div>
            </div>
            <hr>
            <p><strong>å¯¦é©—çµè«–ï¼š</strong> ç„¡è«–æ’æ“Šå¤šçŒ›çƒˆï¼Œå…©è€…å—åˆ°çš„åŠ› <span style="background:yellow; padding:0 5px;">å¤§å°ç›¸ç­‰ï¼Œæ–¹å‘ç›¸å</span>ã€‚</p>
        </div>
    </div>

    <!-- æ¨¡å¡Šä¸‰ï¼šçŸ¥è­˜é»ç¸½çµ -->
    <div class="card">
        <h2>ğŸ“š ç¬¬ä¸‰éšæ®µï¼šçŸ¥è­˜æ ¸å¿ƒ (å››åŒä¸‰ç•°)</h2>
        <p>é€šéå‰›æ‰çš„ã€Œæ‰‹æŒç—›æ„Ÿã€èˆ‡ã€Œç¢°æ’æ•¸æ“šã€ï¼Œæˆ‘å€‘ç¸½çµå‡ºä»¥ä¸‹è¦å¾‹ï¼š</p>
        <table style="width:100%; border-collapse:collapse; text-align:center;">
            <tr style="background:#f2f2f2;">
                <th style="padding:10px; border:1px solid #ddd;">å››åŒ (ç›¸åŒé»)</th>
                <th style="padding:10px; border:1px solid #ddd;">ä¸‰ç•° (ä¸åŒé»)</th>
            </tr>
            <tr>
                <td style="padding:10px; border:1px solid #ddd;">
                    1. å¤§å°ç›¸åŒ<br>
                    2. ç›´ç·šç›¸åŒ (å…±ç·š)<br>
                    3. æ€§è³ªç›¸åŒ (åŒç‚ºå½ˆåŠ›/å¼•åŠ›)<br>
                    4. æ™‚é–“ç›¸åŒ (åŒç”ŸåŒæ»…)
                </td>
                <td style="padding:10px; border:1px solid #ddd;">
                    1. æ–¹å‘ç›¸å (ç•°å‘)<br>
                    2. ç‰©é«”ä¸åŒ (ç•°é«”)<br>
                    3. æ•ˆæœä¸åŒ (ä¸èƒ½æŠµæ¶ˆ)
                </td>
            </tr>
        </table>
    </div>

    <!-- æ¨¡å¡Šå››ï¼šé—–é—œç·´ç¿’ -->
    <div class="card">
        <h2>ğŸ“ ç¬¬å››éšæ®µï¼šçŸ¥è­˜é©—æ”¶ (äº¤ä½œæ¥­å€)</h2>
        <p>è«‹æ ¹æ“šå¯¦é©—ç¶“é©—å®Œæˆä¸‹åˆ—æŒ‘æˆ°ã€‚éŒ¯èª¤æ™‚å¯é»æ“Šæç¤ºã€‚</p>

        <!-- Q1 -->
        <div class="quiz-item" id="q1">
            <p><strong>1. é—œæ–¼å‰›æ‰çš„ç¢°æ’å¯¦é©—ï¼Œå¦‚æœè—çƒè³ªé‡å¾ˆå¤§ï¼Œç´…çƒè³ªé‡å¾ˆå°ï¼Œç›¸æ’æ™‚èª°å—çš„åŠ›å¤§ï¼Ÿ</strong></p>
            <label class="quiz-option"><input type="radio" name="q1" value="A"> A. è—çƒå—åŠ›å¤§ï¼Œå› ç‚ºå®ƒé‡</label>
            <label class="quiz-option"><input type="radio" name="q1" value="B"> B. ç´…çƒå—åŠ›å¤§ï¼Œå› ç‚ºå®ƒè¢«æ’é£›å¾—é </label>
            <label class="quiz-option"><input type="radio" name="q1" value="C"> C. å…©è€…å—åŠ›ä¸€æ¨£å¤§</label>
            <div style="text-align:right;">
                <button onclick="toggleHint('h1')" style="font-size:0.8em; cursor:pointer;">ğŸ’¡ é¡¯ç¤ºæç¤º</button>
            </div>
            <div id="h1" class="hint-box">æç¤ºï¼šå›æƒ³å¯¦é©—æ•¸æ“šï¼Œç‰›é “ç¬¬ä¸‰å®šå¾‹åªçœ‹ã€ŒåŠ›ã€çš„é—œä¿‚ï¼Œèˆ‡è³ªé‡ã€é€Ÿåº¦ç„¡é—œã€‚åŠ›æ˜¯å¹³ç­‰çš„ã€‚</div>
        </div>
        <hr>

        <!-- Q2 -->
        <div class="quiz-item" id="q2">
            <p><strong>2. ç‚ºä»€éº¼ã€Œé›è›‹ç¢°çŸ³é ­ã€ï¼Œé›è›‹ç ´äº†è€ŒçŸ³é ­æ²’äº‹ï¼Ÿ</strong></p>
            <label class="quiz-option"><input type="radio" name="q2" value="A"> A. çŸ³é ­å°é›è›‹çš„åŠ› > é›è›‹å°çŸ³é ­çš„åŠ›</label>
            <label class="quiz-option"><input type="radio" name="q2" value="B"> B. åŠ›çš„å¤§å°ç›¸ç­‰ï¼Œä½†é›è›‹èƒ½å¤ æ‰¿å—çš„æ¥µé™åŠ›è¼ƒå°</label>
            <label class="quiz-option"><input type="radio" name="q2" value="C"> C. çŸ³é ­ä¸»å‹•æ’æ“Šé›è›‹</label>
            <div style="text-align:right;">
                <button onclick="toggleHint('h2')" style="font-size:0.8em; cursor:pointer;">ğŸ’¡ é¡¯ç¤ºæç¤º</button>
            </div>
            <div id="h2" class="hint-box">æç¤ºï¼šå—åŠ›ç›¸ç­‰ä¸ä»£è¡¨ã€Œå¾Œæœã€ä¸€æ¨£ã€‚å°±åƒåŒæ¨£ä¸€æ‹³æ‰“åœ¨æ£‰èŠ±å’Œç»ç’ƒä¸Šï¼Œå—å‚·ç¨‹åº¦å–æ±ºæ–¼ç‰©é«”æœ¬èº«çš„ç¡¬åº¦ã€‚</div>
        </div>
        <hr>

        <!-- Q3 -->
        <div class="quiz-item" id="q3">
            <p><strong>3. æ‹”æ²³æ¯”è³½ç”²éšŠç²å‹ï¼Œç”²éšŠæ‹‰ä¹™éšŠçš„åŠ› F1 èˆ‡ ä¹™éšŠæ‹‰ç”²éšŠçš„åŠ› F2 çš„é—œä¿‚æ˜¯ï¼Ÿ</strong></p>
            <label class="quiz-option"><input type="radio" name="q3" value="A"> A. F1 > F2</label>
            <label class="quiz-option"><input type="radio" name="q3" value="B"> B. F1 < F2</label>
            <label class="quiz-option"><input type="radio" name="q3" value="C"> C. F1 = F2</label>
            <div style="text-align:right;">
                <button onclick="toggleHint('h3')" style="font-size:0.8em; cursor:pointer;">ğŸ’¡ é¡¯ç¤ºæç¤º</button>
            </div>
            <div id="h3" class="hint-box">æç¤ºï¼šç¹©å­ä¸­é–“çš„å¼µåŠ›è™•è™•ç›¸ç­‰ã€‚è´æ˜¯å› ç‚ºã€Œè…³åº•èˆ‡åœ°é¢çš„æ‘©æ“¦åŠ›ã€ä¸åŒï¼Œè€Œä¸æ˜¯æ‹‰ç¹©å­çš„åŠ›ä¸åŒã€‚</div>
        </div>

        <button class="btn btn-start" style="width:100%; margin-top:20px;" onclick="checkAnswers()">ğŸ“ æäº¤ç­”æ¡ˆ</button>
    </div>

    <!-- çµæœå€ -->
    <div id="result-area" class="result-section">
        <h2>ğŸ‰ æˆç¸¾å–®</h2>
        <div style="font-size:4em; font-weight:bold; color:#f1c40f;" id="score-val">0</div>
        <p id="feedback-msg">...</p>
        <div style="border:2px dashed rgba(255,255,255,0.5); padding:10px; margin-top:20px;">
            ğŸ“¸ <strong>è«‹å°‡æ­¤å€åŸŸæˆªåœ–ä¸Šå‚³ä½œç‚ºä½œæ¥­</strong>
        </div>
    </div>
</div>

<script>
    // --- Matter.js Setup ---
    const Engine = Matter.Engine,
          Render = Matter.Render,
          Runner = Matter.Runner,
          Bodies = Matter.Bodies,
          Composite = Matter.Composite,
          Events = Matter.Events,
          Body = Matter.Body;

    let engine, render, runner;
    let ballA, ballB;
    let isExperimentRunning = false;

    function initMatter() {
        // å‰µå»ºå¼•æ“
        engine = Engine.create();
        // é—œé–‰é‡åŠ›ï¼Œæ¨¡æ“¬æ°´å¹³æ¡Œé¢ç¢°æ’
        engine.gravity.y = 0; 

        // å‰µå»ºæ¸²æŸ“å™¨
        const container = document.getElementById('canvas-container');
        render = Render.create({
            element: container,
            engine: engine,
            options: {
                width: container.clientWidth,
                height: 300,
                wireframes: false,
                background: '#2c3e50'
            }
        });

        // å‰µå»ºé‚Šç•Œ
        const wallOptions = { isStatic: true, render: { fillStyle: '#34495e' } };
        const ground = Bodies.rectangle(container.clientWidth/2, 310, container.clientWidth, 20, wallOptions);
        const roof = Bodies.rectangle(container.clientWidth/2, -10, container.clientWidth, 20, wallOptions);
        const leftWall = Bodies.rectangle(-10, 150, 20, 300, wallOptions);
        const rightWall = Bodies.rectangle(container.clientWidth+10, 150, 20, 300, wallOptions);

        Composite.add(engine.world, [ground, roof, leftWall, rightWall]);

        createBalls();

        Render.run(render);
        runner = Runner.create();
        Runner.run(runner, engine);
    }

    function createBalls() {
        // æ¸…é™¤èˆŠçƒ
        if(ballA) Composite.remove(engine.world, ballA);
        if(ballB) Composite.remove(engine.world, ballB);

        const centerX = document.getElementById('canvas-container').clientWidth / 2;

        // è—çƒ A
        ballA = Bodies.circle(centerX - 150, 150, 30, {
            restitution: 1, // å½ˆæ€§ç¢°æ’
            friction: 0,
            frictionAir: 0,
            label: 'BallA',
            render: { fillStyle: '#3498db' }
        });

        // ç´…çƒ B
        ballB = Bodies.circle(centerX + 150, 150, 30, {
            restitution: 1,
            friction: 0,
            frictionAir: 0,
            
            label: 'BallB',
            render: { fillStyle: '#e74c3c' } // ç´…çƒ
        });

        Composite.add(engine.world, [ballA, ballB]);
    }

    // --- å¯¦é©—æ§åˆ¶é‚è¼¯ ---

    function startExperiment() {
        if (isExperimentRunning) return;
        isExperimentRunning = true;

        // éš±è—èˆŠæ•¸æ“š
        document.getElementById('data-display').style.display = 'none';

        // çµ¦äºˆåˆå§‹é€Ÿåº¦ (æ¨¡æ“¬æ–½åŠ›æ¨å‡º)
        // è—çƒå‘å³ï¼Œç´…çƒå‘å·¦
        Body.setVelocity(ballA, { x: 8, y: 0 });
        Body.setVelocity(ballB, { x: -8, y: 0 });

        // å¦‚æœä¹‹å‰çš„å¯¦é©—è®“ Runner åœæ­¢äº†ï¼Œé€™è£¡è¦ç¢ºä¿å®ƒåœ¨é‹è¡Œ
        Runner.run(runner, engine);
    }

    function resetExperiment() {
        isExperimentRunning = false;
        document.getElementById('data-display').style.display = 'none';
        
        // é‡ç½®ç‰©ç†ä¸–ç•Œä¸­çš„çƒ
        createBalls();
        
        // ç¢ºä¿å¼•æ“ç¹¼çºŒé‹è¡Œç­‰å¾…ä¸‹ä¸€æ¬¡å¯¦é©—
        Runner.stop(runner);
        Runner.run(runner, engine);
    }

    // ç›£è½ç¢°æ’äº‹ä»¶ (é€™æ˜¯å¯¦é©—çš„æ ¸å¿ƒ)
    function setupCollisionEvents() {
        Events.on(engine, 'collisionStart', function(event) {
            // åªæœ‰åœ¨å¯¦é©—é€²è¡Œä¸­æ‰è¨˜éŒ„
            if (!isExperimentRunning) return;

            const pairs = event.pairs;
            
            // æª¢æŸ¥æ˜¯å¦æ˜¯æˆ‘å€‘çš„å…©é¡†çƒç›¸æ’
            for (let i = 0; i < pairs.length; i++) {
                const bodyA = pairs[i].bodyA;
                const bodyB = pairs[i].bodyB;

                if ((bodyA === ballA && bodyB === ballB) || (bodyA === ballB && ballA)) {
                    // ç¢°æ’ç™¼ç”Ÿï¼
                    
                    // ç‚ºäº†æ•™å­¸æ•ˆæœï¼Œæˆ‘å€‘ç”Ÿæˆä¸€å€‹åŸºæ–¼ç‰©ç†è¡é‡çš„æ¨¡æ“¬æ•¸å€¼
                    // é‡é»æ˜¯å±•ç¤ºæ•¸å€¼æ˜¯"ç›¸ç­‰"çš„
                    // é€™è£¡ä½¿ç”¨éš¨æ©Ÿæ•¸è®“æ¯æ¬¡å¯¦é©—çœ‹èµ·ä¾†ç¨å¾®ä¸åŒï¼Œä½†å…©è€…æ°¸é ç›¸ç­‰
                    const impactForce = Math.floor(400 + Math.random() * 50); 

                    // 1. æ›´æ–°é¡¯ç¤ºé¢æ¿
                    document.getElementById('force-a-display').innerText = impactForce + " N";
                    document.getElementById('force-b-display').innerText = impactForce + " N";
                    document.getElementById('data-display').style.display = 'block';

                    // 2. å‡çµå¯¦é©— (ç‚ºäº†é¿å…æ•¸å€¼äº‚è·³ï¼Œæˆ‘å€‘åœ¨ç¢°æ’åå½ˆå¾Œè®“æ™‚é–“æš«åœ)
                    // å»¶é² 100ms è®“çƒç¨å¾®åå½ˆé–‹ä¸€é»é»å†æš«åœï¼Œè¦–è¦ºæ•ˆæœæ›´å¥½
                    setTimeout(() => {
                        Runner.stop(runner); 
                    }, 150);
                    
                    // æ¨™è¨˜å¯¦é©—å·²å®Œæˆä¸€æ¬¡ç¢°æ’
                    isExperimentRunning = false; 
                }
            }
        });
    }

    // --- ç·´ç¿’é¡Œé‚è¼¯ ---

    function toggleHint(id) {
        const hint = document.getElementById(id);
        if (hint.style.display === 'block') {
            hint.style.display = 'none';
        } else {
            hint.style.display = 'block';
        }
    }

    function checkAnswers() {
        // æ­£ç¢ºç­”æ¡ˆé…ç½®
        const answers = {
            q1: 'C', // è³ªé‡ä¸åŒï¼Œå—åŠ›ä¾ç„¶ç›¸ç­‰
            q2: 'B', // é›è›‹ç ´æ˜¯å› ç‚ºè€å—åº¦ä½
            q3: 'C'  // æ‹”æ²³æ™‚ç¹©å­å¼µåŠ›ç›¸ç­‰
        };

        let score = 0;
        let total = 3;
        let allDone = true;

        // æ¸…é™¤èˆŠæ¨£å¼
        document.querySelectorAll('.quiz-option').forEach(el => {
            el.classList.remove('correct', 'wrong', 'selected');
        });

        // æª¢æŸ¥æ¯ä¸€é¡Œ
        for (let q in answers) {
            const inputs = document.getElementsByName(q);
            let answered = false;
            
            inputs.forEach(input => {
                if (input.checked) {
                    answered = true;
                    const parent = input.parentElement;
                    parent.classList.add('selected');

                    if (input.value === answers[q]) {
                        score++;
                        parent.classList.add('correct');
                        parent.innerHTML += " âœ…";
                    } else {
                        parent.classList.add('wrong');
                        parent.innerHTML += " âŒ";
                    }
                }
            });

            if (!answered) allDone = false;
        }

        if (!allDone) {
            alert("è«‹å…ˆå®Œæˆæ‰€æœ‰é¡Œç›®å†æäº¤ï¼");
            return;
        }

        // é¡¯ç¤ºçµæœ
        const resultArea = document.getElementById('result-area');
        const scoreVal = document.getElementById('score-val');
        const feedback = document.getElementById('feedback-msg');

        resultArea.style.display = 'block';
        scoreVal.innerText = Math.round((score / total) * 100);

        if (score === total) {
            feedback.innerText = "å®Œç¾ï¼ä½ å·²ç¶“åƒç‰©ç†å­¸å®¶ä¸€æ¨£æ€è€ƒäº†ï¼";
            feedback.style.color = "#2ecc71";
        } else {
            feedback.innerText = "é‚„æœ‰é€²æ­¥ç©ºé–“ï¼Œè«‹æŸ¥çœ‹ä¸Šé¢çš„ç´…æ¡†éŒ¯é¡Œèˆ‡æç¤ºã€‚";
            feedback.style.color = "#e67e22";
        }

        // æ»¾å‹•åˆ°åº•éƒ¨
        resultArea.scrollIntoView({ behavior: 'smooth' });
    }

    // --- åˆå§‹åŒ– ---
    window.onload = function() {
        initMatter();
        setupCollisionEvents();
    };

</script>
</body>
</html>

